{"version":3,"sources":["../react_components/PaginationBoxView.js"],"names":[],"mappings":"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","file":"PaginationBoxView.js","sourcesContent":["'use strict';\n\nimport React, { Component, PropTypes } from 'react';\nimport classNames from 'classnames';\n\nimport createFragment from 'react-addons-create-fragment';\nimport PageView from './PageView';\nimport BreakView from './BreakView';\n\n\nexport default class PaginationBoxView extends Component {\n  static propTypes = {\n    pageCount             : PropTypes.number.isRequired,\n    pageRangeDisplayed    : PropTypes.number.isRequired,\n    marginPagesDisplayed  : PropTypes.number.isRequired,\n    previousLabel         : PropTypes.node,\n    nextLabel             : PropTypes.node,\n    breakLabel            : PropTypes.node,\n    onPageChange          : PropTypes.func,\n    initialPage           : PropTypes.number,\n    forcePage             : PropTypes.number,\n    containerClassName    : PropTypes.string,\n    pageClassName         : PropTypes.string,\n    pageLinkClassName     : PropTypes.string,\n    activeClassName       : PropTypes.string,\n    previousClassName     : PropTypes.string,\n    nextClassName         : PropTypes.string,\n    previousLinkClassName : PropTypes.string,\n    nextLinkClassName     : PropTypes.string,\n    disabledClassName     : PropTypes.string,\n    breakClassName        : PropTypes.string\n  };\n\n  static defaultProps = {\n    pageCount            : 10,\n    pageRangeDisplayed   : 2,\n    marginPagesDisplayed : 3,\n    activeClassName      : \"selected\",\n    previousClassName    : \"previous\",\n    nextClassName        : \"next\",\n    previousLabel        : \"Previous\",\n    nextLabel            : \"Next\",\n    breakLabel           : \"...\",\n    disabledClassName    : \"disabled\"\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selected: props.initialPage ? props.initialPage :\n                props.forcePage   ? props.forcePage :\n                0\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (typeof(nextProps.forcePage) !== 'undefined' && this.props.forcePage !== nextProps.forcePage) {\n      this.setState({selected: nextProps.forcePage});\n    }\n  }\n\n  handlePreviousPage = evt => {\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n    if (this.state.selected > 0) {\n      this.handlePageSelected(this.state.selected - 1, evt);\n    }\n  };\n\n  handleNextPage = evt => {\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n    if (this.state.selected < this.props.pageCount - 1) {\n      this.handlePageSelected(this.state.selected + 1, evt);\n    }\n  };\n\n  handlePageSelected = (selected, evt) => {\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n\n    if (this.state.selected === selected) return;\n\n    this.setState({selected: selected});\n\n    // Call the callback with the new selected item:\n    this.callCallback(selected);\n  };\n\n  callCallback = (selectedItem) => {\n    if (typeof(this.props.onPageChange) !== \"undefined\" &&\n        typeof(this.props.onPageChange) === \"function\") {\n      this.props.onPageChange({selected: selectedItem});\n    }\n  };\n\n  pagination = () => {\n    let items = {};\n\n    if (this.props.pageCount <= this.props.pageRangeDisplayed) {\n\n      for (let index = 0; index < this.props.pageCount; index++) {\n        items['key' + index] = <PageView\n          onClick={this.handlePageSelected.bind(null, index)}\n          selected={this.state.selected === index}\n          pageClassName={this.props.pageClassName}\n          pageLinkClassName={this.props.pageLinkClassName}\n          activeClassName={this.props.activeClassName}\n          page={index + 1} />\n      }\n\n    } else {\n\n      let leftSide  = (this.props.pageRangeDisplayed / 2);\n      let rightSide = (this.props.pageRangeDisplayed - leftSide);\n\n      if (this.state.selected > this.props.pageCount - this.props.pageRangeDisplayed / 2) {\n        rightSide = this.props.pageCount - this.state.selected;\n        leftSide  = this.props.pageRangeDisplayed - rightSide;\n      }\n      else if (this.state.selected < this.props.pageRangeDisplayed / 2) {\n        leftSide  = this.state.selected;\n        rightSide = this.props.pageRangeDisplayed - leftSide;\n      }\n\n      let index;\n      let page;\n      let breakView;\n\n      for (index = 0; index < this.props.pageCount; index++) {\n\n        page = index + 1;\n\n        let pageView = (\n          <PageView\n            onClick={this.handlePageSelected.bind(null, index)}\n            selected={this.state.selected === index}\n            pageClassName={this.props.pageClassName}\n            pageLinkClassName={this.props.pageLinkClassName}\n            activeClassName={this.props.activeClassName}\n            page={index + 1} />\n        );\n\n        if (page <= this.props.marginPagesDisplayed) {\n          items['key' + index] = pageView;\n          continue;\n        }\n\n        if (page > this.props.pageCount - this.props.marginPagesDisplayed) {\n          items['key' + index] = pageView;\n          continue;\n        }\n\n        if ((index >= this.state.selected - leftSide) && (index <= this.state.selected + rightSide)) {\n          items['key' + index] = pageView;\n          continue;\n        }\n\n        let keys            = Object.keys(items);\n        let breakLabelKey   = keys[keys.length - 1];\n        let breakLabelValue = items[breakLabelKey];\n\n        if (this.props.breakLabel && breakLabelValue !== breakView) {\n          breakView = (\n            <BreakView\n              breakLabel={this.props.breakLabel}\n              breakClassName={this.props.breakClassName}\n            />\n          );\n\n          items['key' + index] = breakView;\n        }\n      }\n    }\n\n    return items;\n  };\n\n  render() {\n    let disabled = this.props.disabledClassName;\n\n    const previousClasses = classNames(this.props.previousClassName,\n                                       {[disabled]: this.state.selected === 0});\n\n    const nextClasses = classNames(this.props.nextClassName,\n                                   {[disabled]: this.state.selected === this.props.pageCount - 1});\n\n    return (\n      <ul className={this.props.containerClassName}>\n        <li className={previousClasses}>\n          <a onClick={this.handlePreviousPage}\n             className={this.props.previousLinkClassName}\n             tabIndex=\"0\"\n             onKeyPress={this.handlePreviousPage}>\n            {this.props.previousLabel}\n          </a>\n        </li>\n\n        {createFragment(this.pagination())}\n\n        <li className={nextClasses}>\n          <a onClick={this.handleNextPage}\n             className={this.props.nextLinkClassName}\n             tabIndex=\"0\"\n             onKeyPress={this.handleNextPage}>\n            {this.props.nextLabel}\n          </a>\n        </li>\n      </ul>\n    );\n  }\n};\n"]}